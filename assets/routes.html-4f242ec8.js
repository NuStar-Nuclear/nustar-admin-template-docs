import{_ as e,M as o,p,q as c,R as n,t as s,N as t,a1 as i}from"./framework-204010b2.js";const l={},u=n("h1",{id:"侧边栏与路由",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#侧边栏与路由","aria-hidden":"true"},"#"),s(" 侧边栏与路由")],-1),r=n("p",null,[s("该框架使用配置文件的方式定义侧边栏，如有兴趣，实现方法可以查看"),n("code",null,"/src/views/layout/core/Drawer.vue"),s("以及 "),n("code",null,"/src/permission.ts")],-1),d=n("h2",{id:"配置方法",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#配置方法","aria-hidden":"true"},"#"),s(" 配置方法")],-1),k={href:"https://router.vuejs.org/zh/api/#routes",target:"_blank",rel:"noopener noreferrer"},v={href:"https://router.vuejs.org/zh/guide/essentials/nested-routes",target:"_blank",rel:"noopener noreferrer"},m=n("li",null,[s("meta 项,详见类型"),n("code",null,"IRouteConfig")],-1),b=i(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">IRouteConfig</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>RouteConfig<span class="token punctuation">,</span> <span class="token string">&quot;meta&quot;</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    icon<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// drawer item icon</span>
    drawerGroup<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;PUC&quot;</span><span class="token punctuation">;</span> <span class="token comment">// groups will be separated by divider line</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// drawer item text</span>
    roles<span class="token operator">:</span> Role<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// authorized user groups</span>
    dataCy<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// for cypress location</span>
    hidden<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// hide this route if True</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// /src/router/modules/your-routes.ts</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">&quot;@/views/layout/Index.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> DemoBar <span class="token keyword">from</span> <span class="token string">&quot;@/views/layout/DemoBar.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> IRouteConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes<span class="token operator">:</span> IRouteConfig<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/demo/plant-list&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;plantList&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    meta<span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&quot;nuclear.plantList&quot;</span><span class="token punctuation">,</span>
      icon<span class="token operator">:</span> <span class="token string">&quot;$plant&quot;</span><span class="token punctuation">,</span>
      roles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;developer&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      drawerGroup<span class="token operator">:</span> <span class="token string">&quot;PUC&quot;</span><span class="token punctuation">,</span>
      dataCy<span class="token operator">:</span> <span class="token string">&quot;plant-list&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;plantList&quot;</span><span class="token punctuation">,</span>
        path<span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
        components<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/views/demo/forms/PlantList.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          bar<span class="token operator">:</span> DemoBar<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function g(h,q){const a=o("ExternalLinkIcon");return p(),c("div",null,[u,r,d,n("p",null,[s("基本路由配置方式请参照"),n("a",k,[s("vue router"),t(a)])]),n("ul",null,[n("li",null,[s("需要说明的是利用"),n("a",v,[s("nested routes"),t(a)]),s("的原理， 第一层 route 为 Layout 层，若 children 中只有唯一的 route，将不会形成多级导航，而这唯一的子路由与 Layout 形成了一个 route 。这样的好处是 Layout 不会被重新渲染，状态得以保留，可以单独对子路由应用过渡动效。")]),m]),b])}const y=e(l,[["render",g],["__file","routes.html.vue"]]);export{y as default};
